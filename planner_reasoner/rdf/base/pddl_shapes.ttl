@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix oslc: <http://open-services.net/ns/core#> .
@prefix pddl: <http://ontology.cf.ericsson.net/pddl/> .
@prefix : <http://ontology.cf.ericsson.net/pddl_shapes/> .

:ActionShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Action ;
  dcterms:description "An action has parameter, precondition and effect."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Action name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Action parameters."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Parameter
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Action precondition that must be fulfilled to enable it."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:precondition ;
                  oslc:name "precondition"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Action effect describing state modification."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:effect ;
                  oslc:name "effect"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

:PredicateShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Predicate ;
  dcterms:description "A predicate."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Predicate name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Predicate parameters."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Parameter
                ] .

:FunctionShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Function ;
  dcterms:description "Function."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Function name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Function parameters."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Parameter
                ] .

:DomainShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Domain ;
  dcterms:description "A planning domain."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Domain name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Domain types."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:type ;
                  oslc:name "type"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:PrimitiveType ,
                             pddl:EitherType
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Domain constants."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:constant ;
                  oslc:name "constant"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Constant
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Domain predicates."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:predicate ;
                  oslc:name "predicate"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Domain functions."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:function ;
                  oslc:name "function"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Domain actions."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:action ;
                  oslc:name "action"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource
                ] .

:ProblemShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Problem ;
  dcterms:description "A planning problem."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Problem name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Problem planning domain."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:domain ;
                  oslc:name "domain"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Domain
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Problem objects."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:object ;
                  oslc:name "object"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Object
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Problem init."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:init ;
                  oslc:name "init"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Problem goal."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:goal ;
                  oslc:name "goal"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource ;
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Minimization metric."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:minimize ;
                  oslc:name "minimize"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-one ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Maximization metric."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:maximize ;
                  oslc:name "maximize"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-one ;
                  oslc:valueType oslc:AnyResource
                ] .

:PrimitiveTypeShape
  a oslc:ResourceShape ;
  oslc:describes pddl:PrimitiveType ;
  dcterms:description "A primitive type."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Primitive type name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] .

:EitherTypeShape
  a oslc:ResourceShape ;
  oslc:describes pddl:EitherType ;
  dcterms:description "Either type (list of allowed types)."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Type member (primitive type)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:member ;
                  oslc:name "member"^^xsd:string ;
                  oslc:occurs oslc:One-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:PrimitiveType
                ] .

:ParameterShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Parameter ;
  dcterms:description "An orderable parameter of predicate, function or action."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Parameter name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Parameter type."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:type ;
                  oslc:name "type"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:PrimitiveType ,
                             pddl:EitherType
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Parameter order."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition sh:order ;
                  oslc:name "order"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:integer ;
                ] .

:ObjectShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Object ;
  dcterms:description "An object."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Object name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] .

:ConstantShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Constant ;
  dcterms:description "A constant."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Constant name."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition rdfs:label ;
                  oslc:name "label"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType xsd:string
                ] .

# --- Logical Operators

:NotShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Not ;
  dcterms:description "Locical operator (not)."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "(Not) operator argument."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

:ImplyShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Imply ;
  dcterms:description "Locical operator (imply)."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "(Imply) operator arguments."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:One-or-many ;
                  oslc:valueType oslc:AnyResource
                ] .

# --- Binary Operators

:BinaryOperatorShape
  a oslc:ResourceShape ;
  oslc:describes pddl:BinaryOperator ;
  dcterms:description "Binary operators (+,-,/,*) in precondition."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Binary operators arguments (fluents)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:One-or-many ;
                  oslc:valueType oslc:AnyResource
                ] .

:FluentMinusShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Minus ;
  dcterms:description "Unary operator (-) in fluent."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Unary operator argument (fluent)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

# --- Binary Comparators

:BinaryComparatorShape
  a oslc:ResourceShape ;
  oslc:describes pddl:BinaryComparator ;
  dcterms:description "Binary comparators (=,>,<,<=,>=) in precondition."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Binary comparators arguments (fluents)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:One-or-many ;
                  oslc:valueType oslc:AnyResource
                ] .

# --- Quantifiers

:QuantifierShape
  a oslc:ResourceShape ;
  oslc:describes pddl:Quantifier ;
  dcterms:description "Quantifiers (forall,exists) in precondition."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Quantifier parameters."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Parameter
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Quantifier arguments (same as precondition)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

# --- Conditional Effects

:ForAllShape
  a oslc:ResourceShape ;
  oslc:describes pddl:ForAll ;
  dcterms:description "Universal quantifier (forall) in effect."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Quantified variables."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Zero-or-many ;
                  oslc:valueType oslc:AnyResource ;
                  oslc:range pddl:Parameter
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Conditional effect."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

:WhenShape
  a oslc:ResourceShape ;
  oslc:describes pddl:When ;
  dcterms:description "Condition (when) in effect."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Condition (same as precondition)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Conditional effect."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .

# --- Assignment Operators

:AssignmentOperatorShape
  a oslc:ResourceShape ;
  oslc:describes pddl:AssignmentOperator ;
  dcterms:description "Assignment operators (assign,scale-up,scale-down,increase,decrease) in effect."^^rdf:XMLLiteral ;
  oslc:property [ a oslc:Property ;
                  dcterms:description "Assignment operator parameter (function)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:parameter ;
                  oslc:name "parameter"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] ,
                [ a oslc:Property ;
                  dcterms:description "Assignment operator argument (fluent)."^^rdf:XMLLiteral ;
                  oslc:propertyDefinition pddl:argument ;
                  oslc:name "argument"^^xsd:string ;
                  oslc:occurs oslc:Exactly-one ;
                  oslc:valueType oslc:AnyResource
                ] .
